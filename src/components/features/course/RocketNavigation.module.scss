@keyframes slideIn {
  from {
    opacity: 0;
    transform: translate(50px, -50%); /* Start slightly right offset */
  }
  to {
    opacity: 1;
    transform: translate(0, -50%);
  }
}

.rocketNavContainer {
  position: fixed;
  right: 2rem;
  top: 50%;
  transform: translateY(-50%); /* Centered */
  min-width: 240px;

  display: flex;
  flex-direction: column;
  height: fit-content;
  z-index: 100;
  max-height: 80vh;
  overflow-y: auto;

  /* Glassmorphism card style */
  background: rgba(15, 23, 42, 0.75);
  backdrop-filter: blur(12px);
  padding: 1.5rem;
  border-radius: 16px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  position: relative; /* Context for absolute line */

  animation: slideIn 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
  transition:
    transform 0.3s ease,
    box-shadow 0.3s ease;

  &:hover {
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
    /* Slight lift or movement if desired, but keep centered */
  }
}

/* The vertical line running through the card */
.timelineLine {
  position: absolute;
  left: 2.5rem; /* Indented from left */
  top: 1.5rem;
  bottom: 1.5rem;
  width: 2px;
  background: rgba(226, 232, 240, 0.2);
  z-index: 1;
}

.rocketIcon {
  position: absolute;
  /* Center on the timelineLine.
     Line Left: 2.5rem (40px).
     Line Center: 41px.
     Rocket Width: 36px. Center: 18px.
     Rocket Left = 41px - 18px = 23px.
     23px approx 1.4375rem.
  */
  left: 1.45rem;
  top: 0;
  width: 36px;
  height: 36px;
  background: #0f172a;
  border: 2px solid var(--color-primary);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-primary);
  transition: top 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 20;
  box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);

  svg {
    transform: rotate(45deg);
  }
}

.navItem {
  height: 50px; /* Enforce height for JS calculation */
  min-height: 50px;
  display: flex;
  align-items: center;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  color: var(--color-text-dim);
  padding-left: 3rem; /* Push text to right of rocket */

  &.active {
    color: var(--color-primary);
    font-weight: 600;
  }

  &.disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  &:hover:not(.disabled) {
    color: var(--color-text-hover);
  }
}

.navDot {
  position: absolute;
  /* Center on timelineLine relative to Item.
     Item starts at left:0 (relative to flex col, but padded).
     Wait, item is inside flex col inside container.
     Container padding left is 1.5rem.
     Timeline is at absolute left 2.5rem (from container edge).
     Item content box starts at 1.5rem.
     So timeline is at 1.0rem inside item?
     No, Timeline is absolute to container.
     Dot is absolute to Item.
     Item is relative.
     Item starts at container padding (1.5rem).
     Timeline is at 2.5rem from container left.
     So relative to Item, Timeline is at 1.0rem (16px).
     Dot width 10px (center 5px).
     Dot Left = 16px - 5px + 1px center adjust = 12px?
     Let's try left: 0.75rem.
  */
  left: 0.8rem;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: rgba(226, 232, 240, 0.3);
  transition: all 0.3s ease;
  border: 2px solid transparent;

  /* Hide dot when active */
  .active & {
    opacity: 0;
  }

  .completed & {
    background: var(--color-primary);
    box-shadow: 0 0 8px rgba(59, 130, 246, 0.4);
  }
}

.navText {
  font-size: 0.9rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
